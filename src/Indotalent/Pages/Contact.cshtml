@page
@model Indotalent.Pages.ContactModel
@{
}

<!-- Facts Start -->
<!-- Service Start -->
@* @await Html.PartialAsync("__Contact") *@
<div class="container-fluid py-5 wow fadeInUp" data-wow-delay="0.1s">
    <div class="container py-5">
        <div class="section-title text-center position-relative pb-3 mb-5 mx-auto" style="max-width: 600px;">
            <h5 class="fw-bold text-primary text-uppercase">Nous contacter</h5>
            <h1 class="mb-0">Une question ? Échangez avec nous !</h1>
        </div>
        <div class="row g-5 mb-5">
            <div class="col-lg-4">
                <div class="d-flex align-items-center wow fadeIn" data-wow-delay="0.1s">
                    <div class="bg-primary d-flex align-items-center justify-content-center rounded"
                         style="width: 60px; height: 60px;">
                        <i class="fa fa-phone-alt text-white"></i>
                    </div>
                    <div class="ps-4">
                        <h5 class="mb-2">Pour toute question appelez :</h5>
                        <h6 class="text-primary mb-0">+212 6 43 17 75 83</h6>
                    </div>
                </div>
            </div>
            <div class="col-lg-4">
                <div class="d-flex align-items-center wow fadeIn" data-wow-delay="0.4s">
                    <div class="bg-primary d-flex align-items-center justify-content-center rounded"
                         style="width: 60px; height: 60px;">
                        <i class="fa fa-envelope-open text-white"></i>
                    </div>
                    <div class="ps-4">
                        <h5 class="mb-2">Email pour obtenir un devis</h5>
                        <h5 class="text-primary mb-0">contact@veco-avempace.com</h5>
                    </div>
                </div>
            </div>
            <div class="col-lg-4">
                <div class="d-flex align-items-center wow fadeIn" data-wow-delay="0.8s">
                    <div class="bg-primary d-flex align-items-center justify-content-center rounded"
                         style="width: 60px; height: 60px;">
                        <i class="fa fa-map-marker-alt text-white"></i>
                    </div>
                    <div class="ps-4">
                        <h5 class="mb-2">Adresse</h5>
                        <h5 class="text-primary mb-0">Siège social : 2 Av Hassan II, Skhirat, Maroc</h5>
                    </div>
                </div>
            </div>
        </div>

        <div class="row g-5">
            <div class="col-lg-6 wow slideInUp" data-wow-delay="0.3s">

                <!-- BEGIN: Radio buttons for Particulier/Entreprise + spacing -->
                <form id="clients_form">
                    @Html.AntiForgeryToken()

                    <input type="hidden" asp-for="Input.Id" class="ignore" />

                    <div class="mb-4 d-flex align-items-center">
                        <!-- Particulier radio (checked by default) -->
                        <div class="form-check me-4">
                            <input class="form-check-input" type="radio" name="clientType"
                                   id="radioParticulier" value="particulier" checked />
                            <label class="form-check-label" for="radioParticulier">Particulier</label>
                        </div>

                        <!-- Entreprise radio -->
                        <div class="form-check">
                            <input class="form-check-input" type="radio" name="clientType"
                                   id="radioEntreprise" value="entreprise" />
                            <label class="form-check-label" for="radioEntreprise">Entreprise</label>
                        </div>
                    </div>

                    <!-- PART: Particulier fields (enabled by default, hidden if user picks Entreprise) -->
                    <div id="particulierFields" style="display: block;">
                        <div class="row g-3">
                            <div class="col-md-6">
                                <input asp-for="Input.Nom"
                                       class="form-control border-0 bg-light px-4"
                                       placeholder="Nom *"
                                       style="height: 55px;" />
                            </div>
                            <div class="col-md-6">
                                <input asp-for="Input.Prenom"
                                       class="form-control border-0 bg-light px-4"
                                       placeholder="Prénom *"
                                       style="height: 55px;" />
                            </div>
                            <div class="col-md-6">
                                <input asp-for="Input.Email" type="email"
                                       class="form-control border-0 bg-light px-4"
                                       placeholder="Adresse électronique *"
                                       style="height: 55px;" />
                            </div>
                            <div class="col-md-6">
                                <input asp-for="Input.Tel" type="tel"
                                       class="form-control border-0 bg-light px-4"
                                       placeholder="Téléphone *"
                                       style="height: 55px;" />
                            </div>
                            <div class="col-12">
                                <input asp-for="Input.Sujet"
                                       class="form-control border-0 bg-light px-4"
                                       placeholder="Sujet"
                                       style="height: 55px;" />
                            </div>
                            <div class="col-12">
                                <input asp-for="Input.Adresse"
                                       class="form-control border-0 bg-light px-4"
                                       placeholder="Adresse *"
                                       style="height: 55px;" />
                            </div>
                            <div class="col-md-6">
                                <input asp-for="Input.City"
                                       class="form-control border-0 bg-light px-4"
                                       placeholder="Ville *"
                                       style="height: 55px;" />
                            </div>
                            <div class="col-12">
                                <textarea asp-for="Input.Message"
                                          class="form-control border-0 bg-light px-4 py-3"
                                          rows="4"
                                          placeholder="Message"></textarea>
                            </div>
                        </div>
                    </div>

                    <!-- PART: Entreprise fields (disabled + hidden by default; enabled when user picks Entreprise) -->
                    <div id="entrepriseFields" style="display: none;">
                        <div class="row g-3">
                            <div class="col-md-6">
                                <input asp-for="Input.Firm"
                                       class="form-control border-0 bg-light px-4"
                                       placeholder="Société *"
                                       style="height: 55px;" />
                            </div>
                            <div class="col-md-6">
                                <input asp-for="Input.Nom"
                                       class="form-control border-0 bg-light px-4"
                                       placeholder="Nom *"
                                       style="height: 55px;" />
                            </div>
                            <div class="col-md-6">
                                <input asp-for="Input.Prenom"
                                       class="form-control border-0 bg-light px-4"
                                       placeholder="Prénom *"
                                       style="height: 55px;" />
                            </div>
                            <div class="col-md-6">
                                <input asp-for="Input.Email" type="email"
                                       class="form-control border-0 bg-light px-4"
                                       placeholder="Adresse électronique *"
                                       style="height: 55px;" />
                            </div>
                            <div class="col-md-6">
                                <input asp-for="Input.Tel" type="tel"
                                       class="form-control border-0 bg-light px-4"
                                       placeholder="Téléphone *"
                                       style="height: 55px;" />
                            </div>
                            <div class="col-12">
                                <input asp-for="Input.Sujet"
                                       class="form-control border-0 bg-light px-4"
                                       placeholder="Sujet"
                                       style="height: 55px;" />
                            </div>
                            <div class="col-12">
                                <input asp-for="Input.Adresse"
                                       class="form-control border-0 bg-light px-4"
                                       placeholder="Adresse *"
                                       style="height: 55px;" />
                            </div>
                            <div class="col-md-6">
                                <input asp-for="Input.City"
                                       class="form-control border-0 bg-light px-4"
                                       placeholder="Ville *"
                                       style="height: 55px;" />
                            </div>
                            <div class="col-12">
                                <textarea asp-for="Input.Message"
                                          class="form-control border-0 bg-light px-4 py-3"
                                          rows="4"
                                          placeholder="Message"></textarea>
                            </div>
                        </div>
                    </div>

                    <div class="col-12 mt-4">
                        <button class="btn btn-primary w-100 py-3" type="submit" id="submitButton">
                            Envoyer
                        </button>
                    </div>
                </form>
                <!-- END: Form -->

            </div>
            <div class="col-lg-6 wow slideInUp" data-wow-delay="0.6s">
                <iframe src="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d3314.109994471697!2d-6.920847884783306!3d33.92378103303552!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0xda71282e4459219%3A0xb83d2db44ffa8f17!2s2%20Av.%20Hassan%20II%2C%20T%C3%A9mara%2C%20Maroc!5e0!3m2!1sen!2sus!4v1696449028391!5m2!1sen!2sus"
                        width="600"
                        height="450"
                        style="border:0;"
                        allowfullscreen=""
                        loading="lazy"
                        referrerpolicy="no-referrer-when-downgrade">
                </iframe>
            </div>
        </div>
    </div>
</div>
<!-- Service End -->
<!-- Vendor Start -->
@await Html.PartialAsync("__Vendor")
<!-- Vendor End -->

<link rel="stylesheet" media="screen, print" href="~/css/notifications/toastr/toastr.min.css" />
<script type="text/javascript" src="~/lib/jquery/dist/jquery-3.4.1.min.js" asp-append-version="true"></script>
<script type="text/javascript" src="~/lib/axios/dist/axios.min.js" asp-append-version="true"></script>
<script type="text/javascript" src="~/js/notifications/toastr/toastr.min.js" asp-append-version="true"></script>

<script type="text/javascript">
    $(document).ready(function () {
        // By default, Particulier is checked, so disable the Entreprise fields
        $('#entrepriseFields :input').prop('disabled', true);

        // PART: When user chooses Particulier
        $('#radioParticulier').on('change', function () {
            // Show Particulier
            $('#particulierFields').show();
            // Hide & disable Entreprise
            $('#entrepriseFields').hide().find(':input').prop('disabled', true);

            // Enable Particulier
            $('#particulierFields :input').prop('disabled', false);
        });

        // PART: When user chooses Entreprise
        $('#radioEntreprise').on('change', function () {
            // Show Entreprise
            $('#entrepriseFields').show();
            // Hide & disable Particulier
            $('#particulierFields').hide().find(':input').prop('disabled', true);

            // Enable Entreprise
            $('#entrepriseFields :input').prop('disabled', false);
        });
    });

    $('#clients_form #submitButton').click(function (event) {
        event.preventDefault();
        event.stopPropagation();

        const request = $('#clients_form').serialize();
        axios.post('@Url.Page("/Contact")', request).then(res => {
            toastr["info"]('Message envoyé avec succès.');
        });
    });
</script>
