@page
@model IndexModel
@{
    ViewData["Title"] = "Home page";
}

<!-- Facts Start -->
@* @await Html.PartialAsync("__FactCounter") *@
<!-- Facts Start -->
<!-- About Start -->
@await Html.PartialAsync("__VECO")
<!-- About End -->
<!-- Features Start -->
@await Html.PartialAsync("__Features")
<!-- Features Start -->
<!-- Service Start -->
@* @await Html.PartialAsync("__Service") *@
<!-- Service End -->
<!-- Pricing Plan Start -->
@await Html.PartialAsync("__PricingPlan")
<!-- Pricing Plan End -->
<!-- Quote Start -->
<div class="container-fluid py-5 wow fadeInUp" data-wow-delay="0.1s">
    <div class="container py-5">
        <div class="row g-5">
            <div class="col-lg-7">
                <div class="section-title position-relative pb-3 mb-5">
                    <h5 class="fw-bold text-primary text-uppercase">Nous contacter</h5>
                    <h1 class="mb-0">Une question ? Échangez avec nous !</h1>
                </div>
                <div class="row gx-3">
                    <div class="col-sm-6 wow zoomIn" data-wow-delay="0.2s">
                        <h5 class="mb-4"><i class="fa fa-reply text-primary me-3"></i>On vous répond sous 24h</h5>
                    </div>
                    <div class="col-sm-6 wow zoomIn" data-wow-delay="0.4s">
                        <h5 class="mb-4"><i class="fa fa-phone-alt text-primary me-3"></i>Nos experts vous accompagnent</h5>
                    </div>
                </div>
                <p class="mb-4">
                    Chez VECO Avempace, votre satisfaction est notre priorité. Nous
                    sommes à votre écoute pour comprendre vos besoins et vous accompagner
                    tout au long de votre projet. Qu’il s’agisse d’un conseil personnalisé, d’un
                    accompagnement technique ou d’une solution adaptée à votre budget et vos
                    attentes, notre équipe se tient prête à répondre à vos questions. Ensemble,
                    nous trouverons les technologies les plus adaptées pour concrétiser vos
                    idées et faire avancer votre transition vers une mobilité électrique durable.
                </p>
                <div class="d-flex align-items-center mb-4 wow fadeIn" data-wow-delay="0.6s">
                    <!-- Link to WhatsApp -->
                    <a href="https://wa.me/212643177583" target="_blank"
                       class="bg-primary d-flex align-items-center justify-content-center rounded"
                       style="width: 60px; height: 60px; text-decoration: none;">
                        <i class="fab fa-whatsapp text-white"></i>
                    </a>
                    <div class="ps-4">
                        <h5 class="mb-2">Pour toute question appelez :</h5>
                        <h6 class="text-primary mb-0">+212 6 43 17 75 83</h6>
                    </div>
                </div>
            </div>
            <div class="col-lg-5">
                <div class="bg-primary rounded h-100 d-flex align-items-center p-5 wow zoomIn" data-wow-delay="0.9s">
                    <!-- BEGIN: Radio buttons for Particulier/Entreprise + spacing -->
                    <form id="clients_form">
                        <div class="mb-4 d-flex align-items-center">
                            <!-- Particulier radio (checked by default) -->
                            <div class="form-check me-4">
                                <input class="form-check-input" type="radio" name="clientType"
                                       id="radioParticulier" value="particulier" checked />
                                <label class="form-check-label" for="radioParticulier">Particulier</label>
                            </div>
                            <!-- Entreprise radio -->
                            <div class="form-check">
                                <input class="form-check-input" type="radio" name="clientType"
                                       id="radioEntreprise" value="entreprise" />
                                <label class="form-check-label" for="radioEntreprise">Entreprise</label>
                            </div>
                        </div>

                        @Html.AntiForgeryToken()
                        <input type="hidden" asp-for="Input.Id" class="ignore" />

                        <!-- PART: Particulier fields (enabled + shown by default) -->
                        <div id="particulierFields" style="display: block;">
                            <div class="row g-3">
                                <div class="col-md-6">
                                    <input asp-for="Input.Nom"
                                           type="text"
                                           class="form-control border-0 bg-light px-4"
                                           placeholder="Nom *"
                                           style="height: 55px;" />
                                </div>
                                <div class="col-md-6">
                                    <input asp-for="Input.Prenom"
                                           type="text"
                                           class="form-control border-0 bg-light px-4"
                                           placeholder="Prénom *"
                                           style="height: 55px;" />
                                </div>
                                <div class="col-md-6">
                                    <input asp-for="Input.Email"
                                           type="email"
                                           class="form-control border-0 bg-light px-4"
                                           placeholder="Adresse électronique *"
                                           style="height: 55px;" />
                                </div>
                                <div class="col-md-6">
                                    <input asp-for="Input.Tel"
                                           type="tel"
                                           class="form-control border-0 bg-light px-4"
                                           placeholder="Téléphone *"
                                           style="height: 55px;" />
                                </div>
                                <div class="col-12">
                                    <input asp-for="Input.Sujet"
                                           type="text"
                                           class="form-control border-0 bg-light px-4"
                                           placeholder="Sujet"
                                           style="height: 55px;" />
                                </div>
                                <div class="col-12">
                                    <input asp-for="Input.Adresse"
                                           type="text"
                                           class="form-control border-0 bg-light px-4"
                                           placeholder="Adresse *"
                                           style="height: 55px;" />
                                </div>
                                <div class="col-md-6">
                                    <input asp-for="Input.City"
                                           type="text"
                                           class="form-control border-0 bg-light px-4"
                                           placeholder="Ville *"
                                           style="height: 55px;" />
                                </div>
                                <div class="col-12">
                                    <textarea asp-for="Input.Message"
                                              class="form-control border-0 bg-light px-4 py-3"
                                              rows="4"
                                              placeholder="Message"></textarea>
                                </div>
                            </div>
                        </div>

                        <!-- PART: Entreprise fields (hidden by default) -->
                        <div id="entrepriseFields" style="display: none;">
                            <div class="row g-3">
                                <div class="col-md-6">
                                    <input asp-for="Input.Firm"
                                           type="text"
                                           class="form-control border-0 bg-light px-4"
                                           placeholder="Société *"
                                           style="height: 55px;" />
                                </div>
                                <div class="col-md-6">
                                    <input asp-for="Input.Nom"
                                           type="text"
                                           class="form-control border-0 bg-light px-4"
                                           placeholder="Nom *"
                                           style="height: 55px;" />
                                </div>
                                <div class="col-md-6">
                                    <input asp-for="Input.Prenom"
                                           type="text"
                                           class="form-control border-0 bg-light px-4"
                                           placeholder="Prénom *"
                                           style="height: 55px;" />
                                </div>
                                <div class="col-md-6">
                                    <input asp-for="Input.Email"
                                           type="email"
                                           class="form-control border-0 bg-light px-4"
                                           placeholder="Adresse électronique *"
                                           style="height: 55px;" />
                                </div>
                                <div class="col-md-6">
                                    <input asp-for="Input.Tel"
                                           type="tel"
                                           class="form-control border-0 bg-light px-4"
                                           placeholder="Téléphone *"
                                           style="height: 55px;" />
                                </div>
                                <div class="col-12">
                                    <input asp-for="Input.Sujet"
                                           type="text"
                                           class="form-control border-0 bg-light px-4"
                                           placeholder="Sujet"
                                           style="height: 55px;" />
                                </div>
                                <div class="col-12">
                                    <input asp-for="Input.Adresse"
                                           type="text"
                                           class="form-control border-0 bg-light px-4"
                                           placeholder="Adresse *"
                                           style="height: 55px;" />
                                </div>
                                <div class="col-md-6">
                                    <input asp-for="Input.City"
                                           type="text"
                                           class="form-control border-0 bg-light px-4"
                                           placeholder="Ville *"
                                           style="height: 55px;" />
                                </div>
                                <div class="col-12">
                                    <textarea asp-for="Input.Message"
                                              class="form-control border-0 bg-light px-4 py-3"
                                              rows="4"
                                              placeholder="Message"></textarea>
                                </div>
                            </div>
                        </div>

                        <!-- Single submit button for both sections -->
                        <div class="col-12 mt-4">
                            <button class="btn btn-primary w-100 py-3" type="submit" id="submitButton">
                                Envoyer
                            </button>
                        </div>
                    </form>
                    <!-- END: Form -->
                </div>
            </div>
        </div>
    </div>
</div>
<!-- Quote End -->
<!-- Testimonial Start -->
@* @await Html.PartialAsync("__Testimonial") *@
<!-- Testimonial End -->
<!-- Team Start -->
@* @await Html.PartialAsync("__Team") *@
<!-- Team End -->
<!-- Blog Start -->
@* @await Html.PartialAsync("__Blog") *@
<!-- Blog Start -->
<!-- Vendor Start -->
@await Html.PartialAsync("__Vendor")
<!-- Vendor End -->

<link rel="stylesheet" media="screen, print" href="~/css/notifications/toastr/toastr.min.css" />
<script type="text/javascript" src="~/lib/jquery/dist/jquery-3.4.1.min.js" asp-append-version="true"></script>
<script type="text/javascript" src="~/lib/axios/dist/axios.min.js" asp-append-version="true"></script>
<script type="text/javascript" src="~/js/notifications/toastr/toastr.min.js" asp-append-version="true"></script>

<script type="text/javascript">
    $(document).ready(function () {
        // By default, Particulier is shown, so disable the Entreprise inputs initially
        $('#entrepriseFields :input').prop('disabled', true);

        // Toggle form sections based on radio selection
        $('#radioParticulier').on('change', function () {
            // Show Particulier, enable fields
            $('#particulierFields').show().find(':input').prop('disabled', false);
            // Hide Entreprise, disable fields
            $('#entrepriseFields').hide().find(':input').prop('disabled', true);
        });

        $('#radioEntreprise').on('change', function () {
            // Hide Particulier, disable fields
            $('#particulierFields').hide().find(':input').prop('disabled', true);
            // Show Entreprise, enable fields
            $('#entrepriseFields').show().find(':input').prop('disabled', false);
        });
    });

    $('#clients_form #submitButton').click(function (e) {
        e.preventDefault();
        e.stopPropagation();

        const request = $('#clients_form').serialize();
        axios.post('@Url.Page("/")', request).then(res => {
            toastr["info"]('Message envoyé avec succès.');
        });
    });
</script>
